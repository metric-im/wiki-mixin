<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="/wiki/src/ace/ace.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <div id="content-container">
        <div id="uml-design"></div>
        <div id="uml-display"></div>
        <div id="controls">
            <span id="url"></span>
            <button id="refresh-button">refresh</button>
            <button id="copy-button">copy code</button>
        </div>
    </div>
</body>
<script type="module">
  class CodeInput {
    constructor() {
      this.designSource = 'sdf'//decodeURI(location.search.slice(6)); // remove '?edit='. Parse fully if needed
      this.code = document.createElement("div");
      this.code.id = 'code-tray'
      document.querySelector('#uml-design').append(this.code);
    }
    static mint() {
      let instance = new CodeInput();
      instance.editor=window.ace.edit(instance.code.id); // <snip> .id
      instance.mode = 'markdown';
      instance.editor.setTheme('ace/theme/twilight');
      instance.editor.$blockScrolling = "Infinity";
      instance.editor.renderer.setShowGutter(false);
      instance.editor.session.setUseWrapMode(true);
      instance.editor.setOptions({
        maxLines: 10,
        minLines: 10,
        fontSize: "12pt"
      });
      instance.editor.setValue(instance.designSource);
      return instance;
    }
  }
  let codeInput = CodeInput.mint();
  // // this.element.addEventListener('change',()=>{
  // //     this.props.data[this.props.name] = this.editor.getValue();
  // // })
  // // The change event does not fire when the field is empty, so we poll
  // if (this.updateInterval) clearInterval(this.updateInterval)
  // this.updateInterval = setInterval(()=>{
  //   try {this.props.data[this.props.name] = this.editor.getValue();}catch(e){}
  // },500);
  // this.element.setAttribute('contenteditable',true);
</script>
</html>
